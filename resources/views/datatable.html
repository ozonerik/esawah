<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"  crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.5/css/responsive.dataTables.min.css">
    <link rel="stylesheet" href="https://gyrocode.github.io/jquery-datatables-checkboxes/1.2.10/css/dataTables.checkboxes.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/select/1.3.1/css/select.dataTables.min.css">
    <link rel="stylesheet" href="https://nightly.datatables.net/buttons/css/buttons.dataTables.css">

    <title>Hello, world!</title>
  </head>
  <body>
    <h1>Hello, world!</h1>
    <div id="external">
        <input type="button" id='delete_record' value='Delete Selected external button' >
    </div>

    <div id="events">
        Selected data: 
    </div>



    <table id="example" class="table dt-responsive" >
       <thead>
          <tr>
             <th></th>
             <th>Name</th>
             <th>ID</th>
          </tr>
       </thead>
       <tbody>
          <tr>
             <td></td>
             <td>Jane</td>
             <td>350</td>
          </tr>
           <tr>
             <td></td>
             <td>John</td>
             <td>278</td>
          </tr>
           <tr>
             <td></td>
             <td>Bob</td>
             <td>127</td>
          </tr>
       </tbody>
       <tfoot>
       </tfoot>
    </table>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"  crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"  crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/v/dt/dt-1.10.16/sl-1.2.5/datatables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://nightly.datatables.net/buttons/js/dataTables.buttons.js"></script>
    <script src="https://gyrocode.github.io/jquery-datatables-checkboxes/1.2.10/js/dataTables.checkboxes.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
    <script>
$(document).ready(function() {

   var events = $('#events');

   var table1 = $('#example').DataTable({
   "responsive":true,
   "stateSave": true,
	 "stateDuration": 0,
   
  "lengthMenu": [
						[  5, 10, 15, 20, 25, 50, 75, 100, -1 ],
						[  5, 10, 15, 20, 25, 50, 75, 100, 'ALL' ]
	],
	
  //Default value
	"pageLength": 2, 
   
   "bProcessing": true,
					   
		 dom: 'Blrtip',
     
     buttons: [
				{
						text: 'Get selected data',
            action: function () {
            
             var data = table1.rows( { selected: true } ).data().pluck(2).toArray();
                   
                if(data.length > 0){
                   
 
                    events.prepend( '<div>'+data+'</div>' );
                     }  else alert('select at least one line')
             }
				},
        
        {
						text: 'Delete selected',
            action: function () {
                 var data = table1.rows( { selected: true } ).data().pluck(2).toArray();
                  
                  if(data.length > 0){
 
                    var confirmdelete = confirm("Do you really want to Delete records?");
                    if (confirmdelete == true) {
                        /* $.ajax({
                            url: 'ajaxfile.php',
                            type: 'post',
                            data: {request: 2,deleteids_arr: deleteids_arr},
                            success: function(response){
                                dataTable.ajax.reload();
                            }
                        });
                        */
                        alert(data);
                    }
                } else alert('select at least one line')
                  
                  
                  
                    //events.prepend( '<div>'+data+'</div>' );
             }
				},
        
       
     ],
  
     
      "columnDefs": [
         {
            'targets': 0,
            'checkboxes': {
               'selectRow': true
            }
         }
      ],
      
      
      'select': {
         'style': 'multi'
      },
      'order': [[1, 'asc']]
      
       
   });
   
   $('#delete_record').click(function(){
 					
                 var data = table1.rows( { selected: true } ).data().pluck(2).toArray();
                  
                  if(data.length > 0){
 
                    var confirmdelete = confirm("Do you really want to Delete records?");
                    if (confirmdelete == true) {
                        /* $.ajax({
                            url: 'ajaxfile.php',
                            type: 'post',
                            data: {request: 2,deleteids_arr: deleteids_arr},
                            success: function(response){
                                dataTable.ajax.reload();
                            }
                        });
                        */
                        alert(data);
                    }
                } else alert('select at least one line')
          
          
            });
   
  
});
    </script>
  </body>
</html>